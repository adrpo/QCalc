<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>QCalc.Units.Tests</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package of tests&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Tests<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="QCalc.Units.Tests"></a><a href="QCalc_Units.html#QCalc.Units"
>QCalc.Units</a>.Tests</h2>
<p>
<b>Package of tests</b><br>
</p>
<h3>Information</h3>
<p>Extends from <a href="QCalc_Icons_TestPackage.html#QCalc.Icons.TestPackage"
>Icons.TestPackage</a> (Icon for a text package).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="QCalc.Units.Tests.callAllS.png" alt="QCalc.Units.Tests.callAll" width="20" height="20" align="top">&nbsp;<a href="QCalc_Units_Tests.html#QCalc.Units.Tests.callAll"
>callAll</a>
</td>
<td>Call all of the test functions for the <a href="modelica://QCalc.Units">Units</a> package</td>
</tr>
<tr>
<td><img src="QCalc.Units.Tests.callAllS.png" alt="QCalc.Units.Tests.testValues" width="20" height="20" align="top">&nbsp;<a href="QCalc_Units_Tests.html#QCalc.Units.Tests.testValues"
>testValues</a>
</td>
<td>Test the values of units and constants in the <a href="modelica://QCalc.Units">Units</a> package</td>
</tr>
<tr>
<td><img src="QCalc.Units.Tests.callAllS.png" alt="QCalc.Units.Tests.testConversions" width="20" height="20" align="top">&nbsp;<a href="QCalc_Units_Tests.html#QCalc.Units.Tests.testConversions"
>testConversions</a>
</td>
<td>Test the unit conversions in the <a href="modelica://QCalc.Units">Units</a> package</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE callAll<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="QCalc.Units.Tests.callAllI.png" alt="QCalc.Units.Tests.callAll" align="right" style="border: 1px solid" width="80" height="80">
<a name="QCalc.Units.Tests.callAll"></a><a href="QCalc_Units_Tests.html#QCalc.Units.Tests"
>QCalc.Units.Tests</a>.callAll</h2>
<p>
<b>Call all of the test functions for the <a href="modelica://QCalc.Units">Units</a> package</b>
</p>
<h3>Information</h3>
<p>This function call will fail if any of the functions return an
  incorrect result.  It will return <code>true</code> if all of the functions pass.
  The input is the name of a log file where the results should be written.</p>
<p>Extends from <a href="QCalc_Icons.html#QCalc.Icons.Function"
>Icons.Function</a> (Icon for functions (from MSL 3.2.1)).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>String</td><td>logFile</td><td>&quot;UnitsTestLog.txt&quot;</td><td>Filename where the log is stored</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Boolean</td><td>ok</td><td>true, if all tests passed</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">function</span> callAll <span style="color: #006400">
  &quot;</pre>Call all of the test functions for the <a href=\"modelica://QCalc.Units\">Units</a> package<pre>&quot;</span>
  <span style="color: blue">import </span><a href="QCalc_Utilities.html#QCalc.Utilities.print2"
>QCalc.Utilities.print2</a>;
  <span style="color: blue">extends </span><a href="QCalc_Icons.html#QCalc.Icons.Function"
>Icons.Function</a>;
  <span style="color: blue">input </span>String logFile=&quot;UnitsTestLog.txt&quot; <span style="color: #006400">&quot;Filename where the log is stored&quot;</span>;
  <span style="color: blue">output </span>Boolean ok <span style="color: #006400">&quot;true, if all tests passed&quot;</span>;
<span style="color: blue">algorithm </span>
  <span style="color: red">print2</span>(&quot;--- Test of QCalc.Units&quot;, logFile);
  ok := <span style="color: red">testValues</span>(logFile)<span style="color: blue"> and </span><span style="color: red">testConversions</span>(logFile);
<span style="color: blue">end </span>callAll;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE testValues<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="QCalc.Units.Tests.callAllI.png" alt="QCalc.Units.Tests.testValues" align="right" style="border: 1px solid" width="80" height="80">
<a name="QCalc.Units.Tests.testValues"></a><a href="QCalc_Units_Tests.html#QCalc.Units.Tests"
>QCalc.Units.Tests</a>.testValues</h2>
<p>
<b>Test the values of units and constants in the <a href="modelica://QCalc.Units">Units</a> package</b>
</p>
<h3>Information</h3>
<p>This function call will fail if any of the functions return an
  incorrect result.  It will return <code>true</code> if all of the functions pass.
  The input is the name of a log file where the results should be written.</p>
<p>Extends from <a href="QCalc_Icons.html#QCalc.Icons.Function"
>Icons.Function</a> (Icon for functions (from MSL 3.2.1)).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>String</td><td>logFile</td><td>&quot;UnitsTestLog.txt&quot;</td><td>Filename where the log is stored</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Boolean</td><td>ok</td><td>true, if all tests passed</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">function</span> testValues <span style="color: #006400">
  &quot;</pre>Test the values of units and constants in the <a href=\"modelica://QCalc.Units\">Units</a> package<pre>&quot;</span>

  <span style="color: blue">import </span><a href="QCalc_Utilities.html#QCalc.Utilities.print2"
>QCalc.Utilities.print2</a>;
  <span style="color: blue">import </span><a href="QCalc_Units.html#QCalc.Units"
>QCalc.Units</a>.*;
  <span style="color: blue">extends </span><a href="QCalc_Icons.html#QCalc.Icons.Function"
>Icons.Function</a>;

  <span style="color: blue">input </span>String logFile=&quot;UnitsTestLog.txt&quot; <span style="color: #006400">&quot;Filename where the log is stored&quot;</span>;
  <span style="color: blue">output </span>Boolean ok <span style="color: #006400">&quot;true, if all tests passed&quot;</span>;

<span style="color: blue">protected </span>
  <span style="color: blue">function</span> test = <a href="file:////opt/dymola/Modelica/Library/XogenyTest%201.1/help/XogenyTest.html#XogenyTest.assertValue"
>XogenyTest.assertValue</a> (<span style="color: blue">final </span>expected=1);

<span style="color: blue">algorithm </span>
  <span style="color: red">print2</span>(&quot;... Test of the values of constants and units&quot;, logFile);

  <span style="color: #006400">// ----------------------------------------------------------------------</span>
  <span style="color: #006400">// Set 1:  Mathematical constants and relations</span>
  <span style="color: red">test</span>(pi/3.14159265358979323846264338327950288419716939937510, name=&quot;1 in set 1&quot;);
  <span style="color: #006400">// Value from http://en.wikipedia.org/wiki/Pi#Approximate_value</span>
  <span style="color: red">test</span>(cyc/(2*pi*rad), name=&quot;3 in set 1&quot;);
  <span style="color: red">test</span>(cyc/(360*degree), name=&quot;4 in set 1&quot;);
  <span style="color: red">test</span>('%'/0.01, name=&quot;5 in set 1&quot;);

  <span style="color: #006400">// ----------------------------------------------------------------------</span>
  <span style="color: #006400">// Set 2:  Relations from [BIPM2006]</span>
  <span style="color: red">test</span>(e/(1.602176487e-19*C), name=&quot;1 in set 2&quot;);
  <span style="color: red">test</span>(C*V/J, name=&quot;2 in set 2&quot;);

  <span style="color: #006400">// ----------------------------------------------------------------------</span>
  <span style="color: #006400">// Set 3: Coherent derived units in the SI with special names and</span>
  <span style="color: #006400">// symbols [BIPM2006]</span>
  <span style="color: red">test</span>(sr/rad^2, name=&quot;1 in set 3&quot;);
  <span style="color: #006400">// See note below the definition of sr in QCalc.Units.</span>
  <span style="color: red">test</span>(Hz/(cyc/s), name=&quot;2 in set 3&quot;);
  <span style="color: #006400">// See note below the definition of Hz in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(N/(kg*m/s^2), name=&quot;3 in set 3&quot;);
  <span style="color: red">test</span>(Pa/(N/m^2), name=&quot;4 in set 3&quot;);
  <span style="color: red">test</span>(J/(N*m), name=&quot;5 in set 3&quot;);
  <span style="color: red">test</span>(W/(J/s), name=&quot;6 in set 3&quot;);
  <span style="color: red">test</span>(C/(A*s), name=&quot;7 in set 3&quot;);
  <span style="color: red">test</span>(V/(W/A), name=&quot;8 in set 3&quot;);
  <span style="color: red">test</span>(F/(C/V), name=&quot;9 in set 3&quot;);
  <span style="color: red">test</span>(ohm/(V/A), name=&quot;10 in set 3&quot;);
  <span style="color: red">test</span>(S/(A/V), name=&quot;11 in set 3&quot;);
  <span style="color: red">test</span>(Wb*Hz/V, name=&quot;12 in set 3&quot;);
  <span style="color: #006400">// See note below the definition of V in QCalc.Units re: Hz instead of 1/s.</span>
  <span style="color: red">test</span>(T/(Wb/m^2), name=&quot;13 in set 3&quot;);
  <span style="color: red">test</span>(H/(V*s/A), name=&quot;14 in set 3&quot;);
  <span style="color: red">test</span>(lm/(cd*sr), name=&quot;15 in set 3&quot;);
  <span style="color: red">test</span>(lx/(lm/m^2), name=&quot;16 in set 3&quot;);
  <span style="color: red">test</span>(Gy/(J/kg), name=&quot;17 in set 3&quot;);
  <span style="color: red">test</span>(kat/(mol/s), name=&quot;18 in set 3&quot;);

  <span style="color: #006400">// ----------------------------------------------------------------------</span>
  <span style="color: #006400">// Set 4:  Relations from [NIST2010]</span>
  <span style="color: #006400">// Generated from Resources/NIST.xls, 2013-1-23</span>
  <span style="color: red">test</span>(1/alpha/137.035999074, name=&quot;inverse fine-structure constant&quot;);
  <span style="color: red">test</span>(1/G_0/(12906.4037217*ohm), name=&quot;inverse of conductance quantum&quot;);
  <span style="color: red">test</span>(cyc/m*h*c/(1.239841930e-6*eV), name=&quot;inverse meter-electron volt relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(cyc/m*h*c/(4.556335252755e-8*E_h), name=&quot;inverse meter-hartree relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(cyc/m*h*c/(1.986445684e-25*J), name=&quot;inverse meter-joule relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(cyc/m*h*c/k_B/(1.4387770e-2*K), name=&quot;inverse meter-kelvin relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(cyc/m*h/c/(2.210218902e-42*kg), name=&quot;inverse meter-kilogram relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(100*kPa/(k_B*273.15*K)/(2.6516462e25/m^3), name=&quot;Loschmidt constant (273.15 K, 100 kPa)&quot;);
  <span style="color: red">test</span>(101.325*kPa/(k_B*273.15*K)/(2.6867805e25/m^3), name=&quot;Loschmidt constant (273.15 K, 101.325 kPa)&quot;);
  <span style="color: red">test</span>(12*g/mol/(12e-3*kg/mol), name=&quot;molar mass of carbon-12&quot;);
  <span style="color: red">test</span>(alpha/7.2973525698e-3, name=&quot;fine-structure constant&quot;);
  <span style="color: red">test</span>(atm/(101325*Pa), name=&quot;standard atmosphere&quot;);
  <span style="color: red">test</span>(c/(299792458*m/s), name=&quot;speed of light in vacuum&quot;);
  <span style="color: red">test</span>(c_1/(3.74177153e-16*W*m^2), name=&quot;first radiation constant&quot;);
  <span style="color: red">test</span>(c_2*cyc/(1.4387770e-2*m*K), name=&quot;second radiation constant&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(c_3_f/(5.8789254e10*Hz/K), name=&quot;Wien frequency displacement law constant&quot;);
  <span style="color: red">test</span>(c_3_lambda/(2.8977721e-3*K*m/cyc), name=&quot;Wien wavelength displacement law constant&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(cyc/m*c/(299792458*Hz), name=&quot;inverse meter-hertz relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(E_h/(4.35974434e-18*J), name=&quot;Hartree energy&quot;);
  <span style="color: red">test</span>(E_h/(27.21138505*eV), name=&quot;Hartree energy in eV&quot;);
  <span style="color: red">test</span>(E_h/(27.21138505*eV), name=&quot;hartree-electron volt relationship&quot;);
  <span style="color: red">test</span>(E_h/(4.35974434e-18*J), name=&quot;hartree-joule relationship&quot;);
  <span style="color: red">test</span>(E_h/(h*c)/(2.194746313708e7*cyc/m), name=&quot;hartree-inverse meter relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(E_h/c^2/(4.85086979e-35*kg), name=&quot;hartree-kilogram relationship&quot;);
  <span style="color: red">test</span>(E_h/h/(6.579683920729e15*Hz), name=&quot;hartree-hertz relationship&quot;);
  <span style="color: red">test</span>(E_h/k_B/(3.1577504e5*K), name=&quot;hartree-kelvin relationship&quot;);
  <span style="color: red">test</span>(epsilon_0/(8.854187817e-12*F/m), name=&quot;electric constant&quot;);
  <span style="color: red">test</span>(eV/(1.602176565e-19*J), name=&quot;electron volt&quot;);
  <span style="color: red">test</span>(eV/(3.674932379e-2*E_h), name=&quot;electron volt-hartree relationship&quot;);
  <span style="color: red">test</span>(eV/(1.602176565e-19*J), name=&quot;electron volt-joule relationship&quot;);
  <span style="color: red">test</span>(eV/(h*c)/(8.06554429e5*cyc/m), name=&quot;electron volt-inverse meter relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(eV/c^2/(1.782661845e-36*kg), name=&quot;electron volt-kilogram relationship&quot;);
  <span style="color: red">test</span>(eV/h/(2.417989348e14*Hz), name=&quot;electron volt-hertz relationship&quot;);
  <span style="color: red">test</span>(eV/k_B/(1.1604519e4*K), name=&quot;electron volt-kelvin relationship&quot;);
  <span style="color: red">test</span>(G_0/(7.7480917346e-5*S), name=&quot;conductance quantum&quot;);
  <span style="color: red">test</span>(g/mol/(1e-3*kg/mol), name=&quot;molar mass constant&quot;);
  <span style="color: red">test</span>(h/(6.62606957e-34*J/Hz), name=&quot;Planck constant&quot;);
  <span style="color: #006400">// See note below the definition of h in QCalc.Units re: the usage of 1/Hz</span>
  <span style="color: #006400">// instead of s.</span>
  <span style="color: red">test</span>(h/(4.135667516e-15*eV/Hz), name=&quot;Planck constant in eV s&quot;);
  <span style="color: #006400">// See note below the definition of h in QCalc.Units re: the usage of 1/Hz</span>
  <span style="color: #006400">// instead of s.</span>
  <span style="color: red">test</span>(h*c/(2*pi)/(197.3269718*mega*eV*femto*m/cyc), name=&quot;Planck constant over 2 pi times c in MeV fm&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(h/(2*pi)/(1.054571726e-34*J/Hz), name=&quot;Planck constant over 2 pi&quot;);
  <span style="color: #006400">// See note below the definition of h in QCalc.Units re: the usage of 1/Hz</span>
  <span style="color: #006400">// instead of s.</span>
  <span style="color: red">test</span>(h/(2*pi)/(6.58211928e-16*eV/Hz), name=&quot;Planck constant over 2 pi in eV s&quot;);
  <span style="color: #006400">// See note below the definition of h in QCalc.Units re: the usage of 1/Hz</span>
  <span style="color: #006400">// instead of s.</span>
  <span style="color: red">test</span>(Hz*h/(4.135667516e-15*eV), name=&quot;hertz-electron volt relationship&quot;);
  <span style="color: red">test</span>(Hz*h/(1.5198298460045e-16*E_h), name=&quot;hertz-hartree relationship&quot;);
  <span style="color: red">test</span>(Hz*h/(6.62606957e-34*J), name=&quot;hertz-joule relationship&quot;);
  <span style="color: red">test</span>(Hz*h/c^2/(7.37249668e-51*kg), name=&quot;hertz-kilogram relationship&quot;);
  <span style="color: red">test</span>(Hz*h/k_B/(4.7992434e-11*K), name=&quot;hertz-kelvin relationship&quot;);
  <span style="color: red">test</span>(Hz/c/(3.335640951e-9*cyc/m), name=&quot;hertz-inverse meter relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(J/(6.24150934e18*eV), name=&quot;joule-electron volt relationship&quot;);
  <span style="color: red">test</span>(J/(2.29371248e17*E_h), name=&quot;joule-hartree relationship&quot;);
  <span style="color: red">test</span>(J/(h*c)/(5.03411701e24*cyc/m), name=&quot;joule-inverse meter relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(J/c^2/(1.112650056e-17*kg), name=&quot;joule-kilogram relationship&quot;);
  <span style="color: red">test</span>(J/h/(1.509190311e33*Hz), name=&quot;joule-hertz relationship&quot;);
  <span style="color: red">test</span>(J/k_B/(7.2429716e22*K), name=&quot;joule-kelvin relationship&quot;);
  <span style="color: red">test</span>(k_B/(1.3806488e-23*J/K), name=&quot;Boltzmann constant&quot;);
  <span style="color: red">test</span>(k_B/(8.6173324e-5*eV/K), name=&quot;Boltzmann constant in eV/K&quot;);
  <span style="color: red">test</span>(k_B/(h*c)/(69.503476*cyc/(m*K)), name=&quot;Boltzmann constant in inverse meters per kelvin&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(k_B/h/(2.0836618e10*Hz/K), name=&quot;Boltzmann constant in Hz/K&quot;);
  <span style="color: red">test</span>(k_F/(96485.3365*C/mol), name=&quot;Faraday constant&quot;);
  <span style="color: red">test</span>(K*k_B/(8.6173324e-5*eV), name=&quot;kelvin-electron volt relationship&quot;);
  <span style="color: red">test</span>(K*k_B/(3.1668114e-6*E_h), name=&quot;kelvin-hartree relationship&quot;);
  <span style="color: red">test</span>(K*k_B/(1.3806488e-23*J), name=&quot;kelvin-joule relationship&quot;);
  <span style="color: red">test</span>(K*k_B/(h*c)/(69.503476*cyc/m), name=&quot;kelvin-inverse meter relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(K*k_B/c^2/(1.5361790e-40*kg), name=&quot;kelvin-kilogram relationship&quot;);
  <span style="color: red">test</span>(K*k_B/h/(2.0836618e10*Hz), name=&quot;kelvin-hertz relationship&quot;);
  <span style="color: red">test</span>(kg*c^2/(5.60958885e35*eV), name=&quot;kilogram-electron volt relationship&quot;);
  <span style="color: red">test</span>(kg*c^2/(2.061485968e34*E_h), name=&quot;kilogram-hartree relationship&quot;);
  <span style="color: red">test</span>(kg*c^2/(8.987551787e16*J), name=&quot;kilogram-joule relationship&quot;);
  <span style="color: red">test</span>(kg*c^2/h/(1.356392608e50*Hz), name=&quot;kilogram-hertz relationship&quot;);
  <span style="color: red">test</span>(kg*c^2/k_B/(6.5096582e39*K), name=&quot;kilogram-kelvin relationship&quot;);
  <span style="color: red">test</span>(kg*c/h/(4.52443873e41*cyc/m), name=&quot;kilogram-inverse meter relationship&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(mu_0/(12.566370614e-7*N/A^2), name=&quot;mag. constant&quot;);
  <span style="color: red">test</span>(N_A/(6.02214129e23/mol), name=&quot;Avogadro constant&quot;);
  <span style="color: red">test</span>(N_A*h/(3.9903127176e-10*J/(Hz*mol)), name=&quot;molar Planck constant&quot;);
  <span style="color: #006400">// See note below the definition of h in QCalc.Units re: the usage of 1/Hz</span>
  <span style="color: #006400">// instead of s.</span>
  <span style="color: red">test</span>(N_A*h*c/(0.119626565779*J*m/(cyc*mol)), name=&quot;molar Planck constant times c&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(Phi_0/(2.067833758e-15*Wb), name=&quot;mag. flux quantum&quot;);
  <span style="color: red">test</span>(e/(1.602176565e-19*C), name=&quot;elementary charge&quot;);
  <span style="color: red">test</span>(e/h/(2.417989348e14*Hz/V), name=&quot;elementary charge over h&quot;);
  <span style="color: #006400">// See note below the definition of h in QCalc.Units re: the usage of Hz/V</span>
  <span style="color: #006400">// instead of A/J.</span>
  <span style="color: red">test</span>(R/(8.3144621*J/(mol*K)), name=&quot;molar gas constant&quot;);
  <span style="color: red">test</span>(R_inf/(10973731.568539*cyc/m), name=&quot;Rydberg constant&quot;);
  <span style="color: #006400">// See note below the definition of m in QCalc.Units re: inclusion of cyc.</span>
  <span style="color: red">test</span>(R_inf*c/(3.289841960364e15*Hz), name=&quot;Rydberg constant times c in Hz&quot;);
  <span style="color: red">test</span>(R_inf*h*c/(13.60569253*eV), name=&quot;Rydberg constant times hc in eV&quot;);
  <span style="color: red">test</span>(R_inf*h*c/(2.179872171e-18*J), name=&quot;Rydberg constant times hc in J&quot;);
  <span style="color: red">test</span>(R*273.15*K/(100*kPa)/(22.710953e-3*m^3/mol), name=&quot;molar volume of ideal gas (273.15 K, 100 kPa)&quot;);
  <span style="color: red">test</span>(R*273.15*K/(101.325*kPa)/(22.413968e-3*m^3/mol), name=&quot;molar volume of ideal gas (273.15 K, 101.325 kPa)&quot;);
  <span style="color: red">test</span>(sigma/(5.670373e-8*W/(m^2*K^4)), name=&quot;Stefan-Boltzmann constant&quot;);
  <span style="color: red">test</span>(Z_0/(376.730313461*ohm), name=&quot;characteristic impedance of vacuum&quot;);
  ok := true;
<span style="color: blue">end </span>testValues;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE testConversions<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="QCalc.Units.Tests.callAllI.png" alt="QCalc.Units.Tests.testConversions" align="right" style="border: 1px solid" width="80" height="80">
<a name="QCalc.Units.Tests.testConversions"></a><a href="QCalc_Units_Tests.html#QCalc.Units.Tests"
>QCalc.Units.Tests</a>.testConversions</h2>
<p>
<b>Test the unit conversions in the <a href="modelica://QCalc.Units">Units</a> package</b>
</p>
<h3>Information</h3>
<p>This function call will fail if any of the functions return an
  incorrect result.  It will return <code>true</code> if all of the functions pass.
  The input is the name of a log file where the results should be written.</p>
<p>Extends from <a href="QCalc_Icons.html#QCalc.Icons.Function"
>Icons.Function</a> (Icon for functions (from MSL 3.2.1)).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>String</td><td>logFile</td><td>&quot;UnitsTestLog.txt&quot;</td><td>Filename where the log is stored</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Boolean</td><td>ok</td><td>true, if all tests passed</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">function</span> testConversions <span style="color: #006400">
  &quot;</pre>Test the unit conversions in the <a href=\"modelica://QCalc.Units\">Units</a> package<pre>&quot;</span>
  <span style="color: blue">import </span><a href="QCalc_Utilities.html#QCalc.Utilities.print2"
>QCalc.Utilities.print2</a>;
  <span style="color: blue">import </span><a href="file:////opt/dymola/Modelica/Library/XogenyTest%201.1/help/XogenyTest.html#XogenyTest.assertValue"
>XogenyTest.assertValue</a>;
  <span style="color: blue">import </span><a href="QCalc_Units.html#QCalc.Units"
>QCalc.Units</a>.*;

  <span style="color: blue">extends </span><a href="QCalc_Icons.html#QCalc.Icons.Function"
>Icons.Function</a>;

  <span style="color: blue">input </span>String logFile=&quot;UnitsTestLog.txt&quot; <span style="color: #006400">&quot;Filename where the log is stored&quot;</span>;
  <span style="color: blue">output </span>Boolean ok <span style="color: #006400">&quot;true, if all tests passed&quot;</span>;

<span style="color: blue">algorithm </span>
  <span style="color: red">print2</span>(&quot;... Test of conversion functions&quot;, logFile);

  <span style="color: #006400">// &quot;from&quot; functions</span>
  <span style="color: red">assertValue</span>(
    <span style="color: red">from_degC</span>(100),
    373.15*K,
    name=&quot;from_degC&quot;);
  <span style="color: red">assertValue</span>(
    <span style="color: red">from_kPag</span>(101.325),
    2*atm,
    name=&quot;from_kPag&quot;);

  <span style="color: #006400">// &quot;to&quot; functions (using round-tripe calculation)</span>
  <span style="color: red">assertValue</span>(
    <span style="color: red">to_degC</span>(<span style="color: red">from_degC</span>(1)),
    1,
    name=&quot;degC&quot;);
  <span style="color: red">assertValue</span>(
    <span style="color: red">to_kPag</span>(<span style="color: red">from_kPag</span>(1)),
    1,
    name=&quot;kPag&quot;);
  ok := true;
<span style="color: blue">end </span>testConversions;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Tue Aug 12 11:54:05 2014.
</address>
</body>
</html>
